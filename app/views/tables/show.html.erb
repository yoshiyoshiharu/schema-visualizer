<%= turbo_frame_tag 'table', data: { turbo_action: 'advance' } do %>
  <span class="badge rounded-pill text-bg-secondary fs-6 mb-2 mt-3">
    <%= @table.product.name %> / <%= @table.name %>
  </span>

  <table class="table">
    <thead>
      <th>Name</th>
      <th>Type</th>
      <th>Key</th>
      <th class="text-center">Nullable</th>
      <th>Comment</th>
      <th>Memo</th>
    </thead>
    <tbody>
      <% @table.columns.each do |column| %>
        <tr>
          <td><%= column.name %></td>
          <td><%= column.type %></td>
          <td>
            <%= render 'key', column: column %>
          </td>
          <td class="text-center">
            <%= display_nullable(column.nullable?) %>
          </td>
          <td><%= column.comment %></td>
          <td>
            <%= form_with model: (column.memo || column.build_memo) do |form| %>
              <%= form.text_area :content, class: 'form-control' %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% end %>
